{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\reactmvc\\\\MvcReactAssignment\\\\ReactModelPage\\\\src\\\\component\\\\App.js\";\nimport React from \"react\";\nimport '../App.css';\nimport CarName from './CarName';\nimport CarImage from './CarImage';\nimport { NavBarConnect } from './NavBar';\nimport PriceDetails from './PriceDetails';\nimport { CityVersionBoxConnect } from './CityVersionBox';\nimport { CommonPopUpConnect } from './CommonPopUp';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.setCityVersion = (flag, entity, type, id) => {\n      if (type === \"Version\") {\n        let sel_version = {};\n\n        for (let i = 0; i < this.state.versions.length; i++) {\n          if (this.state.versions[i].versionName === entity) {\n            sel_version = this.state.versions[i];\n            break;\n          }\n        }\n\n        this.setState({ ...this.state,\n          selectedVersion: sel_version,\n          locationPopUpVisible: false,\n          versionPopUpVisible: flag,\n          id: 0\n        });\n      } else {\n        this.setState({ ...this.state,\n          selectedLocation: entity,\n          locationPopUpVisible: flag,\n          versionPopUpVisible: false,\n          id: 1\n        });\n      }\n    };\n\n    this.state = {\n      id: 0,\n      models: [],\n      selectedModel: {},\n      dataRecieved: false,\n      locationPopUpVisible: false,\n      versionPopUpVisible: false,\n      versions: [],\n      locations: [],\n      selectedLocation: \"\",\n      selectedVersion: {}\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5000/home/GetModelsDetails?companyId=1\").then(res => res.json()).then(result => {\n      console.log(result.dbModels);\n      fetch(\"http://localhost:5000/home/getcardetails?companyId=1&modelId=1\").then(res1 => res1.json()).then(Versions => {\n        console.log(Versions.dbVersions);\n        fetch(\"http://localhost:5000/Home/getcities\").then(res2 => res2.json()).then(location => {\n          let cities = [];\n          location.dbCity.forEach(element => {\n            cities.push(element.city);\n          });\n          let v = [];\n          Versions.dbVersions.forEach(element => {\n            v.push(element);\n          });\n          console.log(v);\n          this.setState({ ...this.state,\n            dataRecieved: true,\n            models: result.dbModels,\n            selectedModel: result[0],\n            versions: v,\n            locations: cities,\n            selectedLocation: location[0],\n            selectedVersion: Versions[0]\n          });\n        }, errorlocation => {\n          console.log(\"Error: City fetch:\", errorlocation);\n        });\n      }, errorversion => {\n        console.log(\"Error: version fetch:\", errorversion);\n      });\n    }, errorcar => {\n      console.log(\"Error: cardata fetch: \", errorcar);\n    });\n  }\n\n  render() {\n    if (this.state.dataRecieved) {\n      if (this.state.locationPopUpVisible) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CommonPopUpConnect, {\n            popUpType: \"Location\",\n            popupList: this.state.locations,\n            setCityVersion: this.setCityVersion,\n            visibleItem: this.state.selectedLocation,\n            popUpVisible: this.state.locationPopUpVisible\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }, this);\n      } else if (this.state.versionPopUpVisible) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CommonPopUpConnect, {\n            popUpType: \"Version\",\n            popupList: this.state.versions,\n            setCityVersion: this.setCityVersion,\n            visibleItem: this.state.selectedVersion,\n            popUpVisible: this.state.versionPopUpVisible\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Container\",\n          children: [/*#__PURE__*/_jsxDEV(NavBarConnect, {\n            selectedLocation: this.state.selectedLocation,\n            setCityVersion: this.setCityVersion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CarImage, {\n            model: this.state.selectedModel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CarName, {\n            model: this.state.selectedModel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CityVersionBoxConnect, {\n            selectedLocation: this.state.selectedLocation,\n            selectedVersion: this.state.selectedVersion,\n            setCityVersion: this.setCityVersion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PriceDetails, {\n            selectedVersion: this.state.selectedVersion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"console.log(\\\"error\\\")\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["D:/reactmvc/MvcReactAssignment/ReactModelPage/src/component/App.js"],"names":["React","CarName","CarImage","NavBarConnect","PriceDetails","CityVersionBoxConnect","CommonPopUpConnect","App","Component","constructor","props","setCityVersion","flag","entity","type","id","sel_version","i","state","versions","length","versionName","setState","selectedVersion","locationPopUpVisible","versionPopUpVisible","selectedLocation","models","selectedModel","dataRecieved","locations","componentDidMount","fetch","then","res","json","result","console","log","dbModels","res1","Versions","dbVersions","res2","location","cities","dbCity","forEach","element","push","city","v","errorlocation","errorversion","errorcar","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport '../App.css';\nimport CarName from './CarName'\nimport CarImage from './CarImage'\nimport { NavBarConnect } from './NavBar'\nimport PriceDetails from './PriceDetails'\nimport { CityVersionBoxConnect } from './CityVersionBox'\nimport { CommonPopUpConnect } from './CommonPopUp'\n\n\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      id: 0,\n      models: [],\n      selectedModel: {},\n      dataRecieved: false,\n      locationPopUpVisible: false,\n      versionPopUpVisible: false,\n      versions: [],\n      locations: [],\n      selectedLocation: \"\",\n      selectedVersion: {},\n    }\n  }\n\n\n\n\n  componentDidMount() {\n    fetch(\"http://localhost:5000/home/GetModelsDetails?companyId=1\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          console.log(result.dbModels);\n\n\n          fetch(\"http://localhost:5000/home/getcardetails?companyId=1&modelId=1\")\n            .then(res1 => res1.json())\n            .then(\n              (Versions) => {\n                console.log(Versions.dbVersions);\n\n                fetch(\"http://localhost:5000/Home/getcities\")\n                  .then(res2 => res2.json())\n                  .then(\n                    (location) => {\n                     let cities = [];\n                     location.dbCity.forEach(element => {\n                      cities.push(element.city);\n                     });\n                     let v = [];\n                     Versions.dbVersions.forEach(element => {\n                      v.push(element);\n                     });\n                     console.log(v);\n                      this.setState({\n                        ...this.state,\n                        dataRecieved: true,\n                        models: result.dbModels,\n                        selectedModel: result[0],\n                        versions: v,\n                        locations: cities,\n                        selectedLocation: location[0],\n                        selectedVersion: Versions[0],\n\n                      });\n                    \n                      \n\n                    },\n\n                    (errorlocation) => {\n                      console.log(\"Error: City fetch:\", errorlocation)\n                    }\n                  );\n              },\n\n              (errorversion) => {\n                console.log(\"Error: version fetch:\", errorversion)\n              }\n            );\n        },\n\n        (errorcar) => {\n          console.log(\"Error: cardata fetch: \", errorcar);\n        }\n      );\n  }\n\n\n\n  setCityVersion = (flag, entity, type, id) => {\n    if (type === \"Version\") {\n        let sel_version = {};\n        for (let i = 0; i < this.state.versions.length; i++) {\n            if (this.state.versions[i].versionName === entity) {\n                sel_version = this.state.versions[i];\n                break;\n            }\n        }\n        this.setState({\n            ...this.state,\n            selectedVersion: sel_version,\n            locationPopUpVisible: false,\n            versionPopUpVisible: flag,\n            id: 0\n        });\n    }\n    else {\n        this.setState({\n            ...this.state,\n            selectedLocation: entity,\n            locationPopUpVisible: flag,\n            versionPopUpVisible: false,\n            id: 1\n        });\n    }\n}\n\n\n\n  render() {\n    if (this.state.dataRecieved) {\n      if (this.state.locationPopUpVisible) {\n        return (\n          <div><CommonPopUpConnect popUpType=\"Location\" popupList={this.state.locations} setCityVersion={this.setCityVersion}  visibleItem={this.state.selectedLocation} popUpVisible={this.state.locationPopUpVisible}></CommonPopUpConnect></div>\n        );\n      }\n      else if (this.state.versionPopUpVisible) {\n        return (\n          <div><CommonPopUpConnect popUpType=\"Version\" popupList={this.state.versions} setCityVersion={this.setCityVersion}  visibleItem={this.state.selectedVersion} popUpVisible={this.state.versionPopUpVisible}></CommonPopUpConnect></div>\n        );\n      }\n      else {\n        return (\n          <div className=\"Container\">\n            <NavBarConnect selectedLocation={this.state.selectedLocation} setCityVersion={this.setCityVersion} ></NavBarConnect>\n            <CarImage model={this.state.selectedModel}></CarImage>\n            <CarName model={this.state.selectedModel}></CarName>\n            <CityVersionBoxConnect selectedLocation={this.state.selectedLocation} selectedVersion={this.state.selectedVersion} setCityVersion={this.setCityVersion} ></CityVersionBoxConnect>\n            <PriceDetails selectedVersion={this.state.selectedVersion}></PriceDetails>\n          </div>\n        );\n      }\n    }\n    else {\n      return (\n        <div>console.log(\"error\")</div>\n      );\n    }\n\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}