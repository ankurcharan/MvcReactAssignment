{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\prerna.c\\\\Downloads\\\\Training2020-amit\\\\Training2020-amit\\\\model-page-frontend\\\\model-page\\\\src\\\\component\\\\App.js\";\nimport React from \"react\";\nimport '../css/App.css';\nimport { connect } from \"react-redux\";\nimport CarBasicInformation from './CarBasicInformation';\nimport CarImage from './CarImage';\nimport NavBar from './NavBar';\nimport PriceDetails from './PriceDetails';\nimport CityVersionBox from './CityVersionBox';\nimport CommonPopUp from './CommonPopUp';\nconst NavBarConnect = connect(mapStateToProps, mapDispatchToProps)(NavBar);\nconst CityVersionBoxConnect = connect(mapStateToProps, mapDispatchToProps)(CityVersionBox);\nconst CommonPopUpConnect = connect(mapStateToProps, mapDispatchToProps)(CommonPopUp);\n\nfunction updateCityNameAction(city) {\n  return {\n    type: \"UPDATE_CITY\",\n    selectedLocation: city\n  };\n}\n\nfunction mapStateToProps(state) {\n  return { ...state,\n    selectedLocation: state.selectedLocation\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeCityName: function (selectedLocation) {\n      dispatch(updateCityNameAction(selectedLocation));\n    }\n  };\n}\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.changeEntityFlag = (flag, entity, type) => {\n      if (type === \"Version\") {\n        let sel_ver = {};\n\n        for (let i = 0; i < this.state.versions.length; i++) {\n          if (this.state.versions[i].versionName === entity) {\n            sel_ver = this.state.versions[i];\n            break;\n          }\n        }\n\n        this.setState({ ...this.state,\n          selectedVersion: sel_ver,\n          locationPopUpVisible: false,\n          versionPopUpVisible: flag\n        });\n      } else {\n        this.setState({ ...this.state,\n          selectedLocation: entity,\n          locationPopUpVisible: flag,\n          versionPopUpVisible: false\n        });\n      }\n    };\n\n    this.state = {\n      id: 1,\n      dataRecieved: false,\n      locationPopUpVisible: false,\n      versionPopUpVisible: false,\n      versions: [],\n      locations: [],\n      models: [],\n      selectedLocation: \"\",\n      selectedVersion: {},\n      selectedModel: {}\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:5000/home/GetModelsDetails?companyId=1\").then(res => res.json()).then(result => {\n      console.log(result);\n      this.setState({ ...this.state,\n        dataRecieved: true,\n        models: result,\n        selectedModel: result[0]\n      });\n      fetch(\"http://localhost:5000/home/getcardetails?companyId=1&modelId=1\").then(res1 => res1.json()).then(versions => {\n        console.log(versions);\n        fetch(\"http://localhost:5000/home/GetCities\").then(res2 => res2.json()).then(location => {\n          console.log(location);\n          this.setState({ ...this.state,\n            dataRecieved: true,\n            models: result,\n            selectedModel: result[0],\n            versions: versions,\n            locations: location,\n            selectedLocation: location[0],\n            selectedVersion: versions[0]\n          });\n          console.log(\"setstate\");\n        }, errorlocation => {\n          console.log(\"Error City fetch:\", errorlocation);\n        });\n      }, errorversion => {\n        console.log(\"Error version fetch:\", errorversion);\n      });\n    }, errorcar => {\n      console.log(\"Error cardata fetch: \", errorcar);\n    });\n  }\n\n  render() {\n    if (this.state.dataRecieved) {\n      if (this.state.locationPopUpVisible) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CommonPopUpConnect, {\n            popUpType: \"Location\",\n            entityList: this.state.locations,\n            changeEntityFlag: this.changeEntityFlag,\n            selectedEntity: this.state.selectedLocation,\n            popUpVisible: this.state.locationPopUpVisible\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this);\n      } else if (this.state.versionPopUpVisible) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CommonPopUpConnect, {\n            popUpType: \"Version\",\n            entityList: this.state.versions,\n            changeEntityFlag: this.changeEntityFlag,\n            selectedEntity: this.state.selectedVersion,\n            popUpVisible: this.state.versionPopUpVisible\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Container\",\n          children: [/*#__PURE__*/_jsxDEV(NavBarConnect, {\n            selectedLocation: this.state.selectedLocation,\n            changeEntityFlag: this.changeEntityFlag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CarImage, {\n            model: this.state.selectedModel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CarBasicInformation, {\n            model: this.state.selectedModel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(CityVersionBoxConnect, {\n            selectedLocation: this.state.selectedLocation,\n            selectedVersion: this.state.selectedVersion,\n            changeEntityFlag: this.changeEntityFlag\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(PriceDetails, {\n            selectedVersion: this.state.selectedVersion\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Data Not Recieved!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/prerna.c/Downloads/Training2020-amit/Training2020-amit/model-page-frontend/model-page/src/component/App.js"],"names":["React","connect","CarBasicInformation","CarImage","NavBar","PriceDetails","CityVersionBox","CommonPopUp","NavBarConnect","mapStateToProps","mapDispatchToProps","CityVersionBoxConnect","CommonPopUpConnect","updateCityNameAction","city","type","selectedLocation","state","dispatch","changeCityName","App","Component","constructor","props","changeEntityFlag","flag","entity","sel_ver","i","versions","length","versionName","setState","selectedVersion","locationPopUpVisible","versionPopUpVisible","id","dataRecieved","locations","models","selectedModel","componentDidMount","fetch","then","res","json","result","console","log","res1","res2","location","errorlocation","errorversion","errorcar","render"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,gBAAP;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AAEA,MAAMC,aAAa,GAAGP,OAAO,CAACQ,eAAD,EAAiBC,kBAAjB,CAAP,CAA4CN,MAA5C,CAAtB;AACA,MAAMO,qBAAqB,GAAGV,OAAO,CAACQ,eAAD,EAAiBC,kBAAjB,CAAP,CAA4CJ,cAA5C,CAA9B;AACA,MAAMM,kBAAkB,GAAGX,OAAO,CAACQ,eAAD,EAAiBC,kBAAjB,CAAP,CAA4CH,WAA5C,CAA3B;;AAEA,SAASM,oBAAT,CAA8BC,IAA9B,EAAoC;AAClC,SAAO;AACLC,IAAAA,IAAI,EAAE,aADD;AAELC,IAAAA,gBAAgB,EAAEF;AAFb,GAAP;AAID;;AAED,SAASL,eAAT,CAAyBQ,KAAzB,EAAgC;AAC9B,SAAO,EACL,GAAGA,KADE;AAELD,IAAAA,gBAAgB,EAAEC,KAAK,CAACD;AAFnB,GAAP;AAID;;AAED,SAASN,kBAAT,CAA4BQ,QAA5B,EAAsC;AACpC,SAAO;AACLC,IAAAA,cAAc,EAAE,UAASH,gBAAT,EAA2B;AACzCE,MAAAA,QAAQ,CAACL,oBAAoB,CAACG,gBAAD,CAArB,CAAR;AACD;AAHI,GAAP;AAKD;;AAED,MAAMI,GAAN,SAAkBpB,KAAK,CAACqB,SAAxB,CACA;AACEC,EAAAA,WAAW,CAACC,KAAD,EACX;AACE,UAAMA,KAAN;;AADF,SA4EAC,gBA5EA,GA4EmB,CAACC,IAAD,EAAOC,MAAP,EAAeX,IAAf,KAAwB;AACzC,UAAGA,IAAI,KAAK,SAAZ,EACA;AACE,YAAIY,OAAO,GAAG,EAAd;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKX,KAAL,CAAWY,QAAX,CAAoBC,MAAxC,EAAgDF,CAAC,EAAjD,EAAqD;AACnD,cAAG,KAAKX,KAAL,CAAWY,QAAX,CAAoBD,CAApB,EAAuBG,WAAvB,KAAuCL,MAA1C,EACA;AACEC,YAAAA,OAAO,GAAG,KAAKV,KAAL,CAAWY,QAAX,CAAoBD,CAApB,CAAV;AACA;AACD;AACF;;AACD,aAAKI,QAAL,CAAc,EACZ,GAAG,KAAKf,KADI;AAEZgB,UAAAA,eAAe,EAAGN,OAFN;AAGZO,UAAAA,oBAAoB,EAAG,KAHX;AAIZC,UAAAA,mBAAmB,EAAGV;AAJV,SAAd;AAMD,OAhBD,MAkBA;AACE,aAAKO,QAAL,CAAc,EACZ,GAAG,KAAKf,KADI;AAEZD,UAAAA,gBAAgB,EAAGU,MAFP;AAGZQ,UAAAA,oBAAoB,EAAGT,IAHX;AAIZU,UAAAA,mBAAmB,EAAG;AAJV,SAAd;AAMD;AACF,KAvGD;;AAEE,SAAKlB,KAAL,GAAa;AACXmB,MAAAA,EAAE,EAAG,CADM;AAEXC,MAAAA,YAAY,EAAG,KAFJ;AAGXH,MAAAA,oBAAoB,EAAG,KAHZ;AAIXC,MAAAA,mBAAmB,EAAG,KAJX;AAKXN,MAAAA,QAAQ,EAAG,EALA;AAMXS,MAAAA,SAAS,EAAG,EAND;AAOXC,MAAAA,MAAM,EAAG,EAPE;AAQXvB,MAAAA,gBAAgB,EAAG,EARR;AASXiB,MAAAA,eAAe,EAAG,EATP;AAUXO,MAAAA,aAAa,EAAG;AAVL,KAAb;AAYD;;AAEDC,EAAAA,iBAAiB,GACjB;AACEC,IAAAA,KAAK,CAAC,yDAAD,CAAL,CACGC,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAGKG,MAAD,IAAY;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AAEA,WAAKd,QAAL,CAAc,EACZ,GAAG,KAAKf,KADI;AAEZoB,QAAAA,YAAY,EAAG,IAFH;AAGZE,QAAAA,MAAM,EAAGO,MAHG;AAIZN,QAAAA,aAAa,EAAGM,MAAM,CAAC,CAAD;AAJV,OAAd;AAQAJ,MAAAA,KAAK,CAAC,gEAAD,CAAL,CACGC,IADH,CACQM,IAAI,IAAIA,IAAI,CAACJ,IAAL,EADhB,EAEGF,IAFH,CAGGd,QAAD,IAAc;AACZkB,QAAAA,OAAO,CAACC,GAAR,CAAYnB,QAAZ;AAEAa,QAAAA,KAAK,CAAC,sCAAD,CAAL,CACCC,IADD,CACMO,IAAI,IAAIA,IAAI,CAACL,IAAL,EADd,EAECF,IAFD,CAGCQ,QAAD,IAAc;AACZJ,UAAAA,OAAO,CAACC,GAAR,CAAYG,QAAZ;AAEF,eAAKnB,QAAL,CAAc,EACZ,GAAG,KAAKf,KADI;AAEZoB,YAAAA,YAAY,EAAG,IAFH;AAGZE,YAAAA,MAAM,EAAGO,MAHG;AAIZN,YAAAA,aAAa,EAAGM,MAAM,CAAC,CAAD,CAJV;AAKZjB,YAAAA,QAAQ,EAAGA,QALC;AAMZS,YAAAA,SAAS,EAAGa,QANA;AAOZnC,YAAAA,gBAAgB,EAAGmC,QAAQ,CAAC,CAAD,CAPf;AAQZlB,YAAAA,eAAe,EAAGJ,QAAQ,CAAC,CAAD;AARd,WAAd;AAWAkB,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACD,SAlBC,EAoBDI,aAAD,IAAmB;AACjBL,UAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAgCI,aAAhC;AACD,SAtBC;AAwBL,OA9BC,EAgCDC,YAAD,IAAkB;AAChBN,QAAAA,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCK,YAAnC;AACD,OAlCC;AAoCL,KAlDD,EAoDKC,QAAD,IAAc;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCM,QAApC;AACD,KAtDL;AAwDD;;AA+BDC,EAAAA,MAAM,GACN;AACE,QAAG,KAAKtC,KAAL,CAAWoB,YAAd,EACA;AACE,UAAG,KAAKpB,KAAL,CAAWiB,oBAAd,EACA;AACE,4BACE;AAAA,iCAAK,QAAC,kBAAD;AAAoB,YAAA,SAAS,EAAC,UAA9B;AAAyC,YAAA,UAAU,EAAE,KAAKjB,KAAL,CAAWqB,SAAhE;AAA2E,YAAA,gBAAgB,EAAE,KAAKd,gBAAlG;AAAoH,YAAA,cAAc,EAAE,KAAKP,KAAL,CAAWD,gBAA/I;AAAiK,YAAA,YAAY,EAAE,KAAKC,KAAL,CAAWiB;AAA1L;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,gBADF;AAGD,OALD,MAMK,IAAG,KAAKjB,KAAL,CAAWkB,mBAAd,EACL;AACE,4BACE;AAAA,iCAAK,QAAC,kBAAD;AAAoB,YAAA,SAAS,EAAC,SAA9B;AAAwC,YAAA,UAAU,EAAE,KAAKlB,KAAL,CAAWY,QAA/D;AAAyE,YAAA,gBAAgB,EAAE,KAAKL,gBAAhG;AAAkH,YAAA,cAAc,EAAE,KAAKP,KAAL,CAAWgB,eAA7I;AAA8J,YAAA,YAAY,EAAE,KAAKhB,KAAL,CAAWkB;AAAvL;AAAA;AAAA;AAAA;AAAA;AAAL;AAAA;AAAA;AAAA;AAAA,gBADF;AAGD,OALI,MAOL;AACE,4BACE;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA,kCACE,QAAC,aAAD;AAAe,YAAA,gBAAgB,EAAE,KAAKlB,KAAL,CAAWD,gBAA5C;AAA8D,YAAA,gBAAgB,EAAE,KAAKQ;AAArF;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,QAAD;AAAU,YAAA,KAAK,EAAE,KAAKP,KAAL,CAAWuB;AAA5B;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE,QAAC,mBAAD;AAAqB,YAAA,KAAK,EAAE,KAAKvB,KAAL,CAAWuB;AAAvC;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE,QAAC,qBAAD;AAAuB,YAAA,gBAAgB,EAAE,KAAKvB,KAAL,CAAWD,gBAApD;AAAsE,YAAA,eAAe,EAAE,KAAKC,KAAL,CAAWgB,eAAlG;AAAmH,YAAA,gBAAgB,EAAE,KAAKT;AAA1I;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE,QAAC,YAAD;AAAc,YAAA,eAAe,EAAE,KAAKP,KAAL,CAAWgB;AAA1C;AAAA;AAAA;AAAA;AAAA,kBALF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF;AASD;AACF,KA1BD,MA4BA;AACE,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAGD;AAEF;;AA/IH;;AAkJA,eAAeb,GAAf","sourcesContent":["import React from \"react\";\nimport '../css/App.css';\nimport { connect } from \"react-redux\";\nimport CarBasicInformation from './CarBasicInformation'\nimport CarImage from './CarImage'\nimport NavBar from './NavBar'\nimport PriceDetails from './PriceDetails'\nimport CityVersionBox from './CityVersionBox'\nimport CommonPopUp from './CommonPopUp'\n\nconst NavBarConnect = connect(mapStateToProps,mapDispatchToProps)(NavBar);\nconst CityVersionBoxConnect = connect(mapStateToProps,mapDispatchToProps)(CityVersionBox);\nconst CommonPopUpConnect = connect(mapStateToProps,mapDispatchToProps)(CommonPopUp);\n\nfunction updateCityNameAction(city) {\n  return {\n    type: \"UPDATE_CITY\",\n    selectedLocation: city\n  };\n}\n\nfunction mapStateToProps(state) {\n  return {\n    ...state,\n    selectedLocation: state.selectedLocation\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    changeCityName: function(selectedLocation) {\n      dispatch(updateCityNameAction(selectedLocation));\n    }\n  };\n}\n\nclass App extends React.Component\n{\n  constructor(props)\n  {\n    super(props)\n    this.state = {\n      id : 1,\n      dataRecieved : false,\n      locationPopUpVisible : false,\n      versionPopUpVisible : false,\n      versions : [],\n      locations : [],\n      models : [],\n      selectedLocation : \"\",\n      selectedVersion : {},\n      selectedModel : {}\n    }\n  }\n\n  componentDidMount()\n  {\n    fetch(\"http://localhost:5000/home/GetModelsDetails?companyId=1\")\n      .then(res => res.json())\n      .then(\n        (result) => {\n          console.log(result);\n\n          this.setState({\n            ...this.state,\n            dataRecieved : true,\n            models : result,\n            selectedModel : result[0],\n            \n          });\n           \n          fetch(\"http://localhost:5000/home/getcardetails?companyId=1&modelId=1\")\n            .then(res1 => res1.json())\n            .then(\n            (versions) => {\n              console.log(versions);\n\n              fetch(\"http://localhost:5000/home/GetCities\")\n              .then(res2 => res2.json())\n              .then(\n              (location) => {\n                console.log(location);\n\n              this.setState({\n                ...this.state,\n                dataRecieved : true,\n                models : result,\n                selectedModel : result[0],\n                versions : versions,\n                locations : location,\n                selectedLocation : location[0],\n                selectedVersion : versions[0],\n                \n              });\n              console.log(\"setstate\")\n            },\n\n            (errorlocation) => {\n              console.log(\"Error City fetch:\",errorlocation)\n            }\n          );\n        },\n\n        (errorversion) => {\n          console.log(\"Error version fetch:\",errorversion)\n        }\n      );\n    },\n\n        (errorcar) => {\n          console.log(\"Error cardata fetch: \",errorcar);\n        }\n      );\n  }\n\n  changeEntityFlag = (flag, entity, type) => {\n    if(type === \"Version\")\n    {\n      let sel_ver = {};\n      for (let i = 0; i < this.state.versions.length; i++) {\n        if(this.state.versions[i].versionName === entity)\n        {\n          sel_ver = this.state.versions[i];\n          break;\n        }\n      }\n      this.setState({\n        ...this.state,\n        selectedVersion : sel_ver,\n        locationPopUpVisible : false,\n        versionPopUpVisible : flag\n      });\n    }\n    else\n    {\n      this.setState({\n        ...this.state,\n        selectedLocation : entity,\n        locationPopUpVisible : flag,\n        versionPopUpVisible : false\n      });\n    }\n  }\n  \n  render()\n  {\n    if(this.state.dataRecieved)\n    {\n      if(this.state.locationPopUpVisible)\n      {\n        return(\n          <div><CommonPopUpConnect popUpType=\"Location\" entityList={this.state.locations} changeEntityFlag={this.changeEntityFlag} selectedEntity={this.state.selectedLocation} popUpVisible={this.state.locationPopUpVisible}></CommonPopUpConnect></div>\n        );\n      }\n      else if(this.state.versionPopUpVisible)\n      {\n        return(\n          <div><CommonPopUpConnect popUpType=\"Version\" entityList={this.state.versions} changeEntityFlag={this.changeEntityFlag} selectedEntity={this.state.selectedVersion} popUpVisible={this.state.versionPopUpVisible}></CommonPopUpConnect></div>\n        );\n      }\n      else\n      {\n        return(\n          <div className=\"Container\">\n            <NavBarConnect selectedLocation={this.state.selectedLocation} changeEntityFlag={this.changeEntityFlag}></NavBarConnect>\n            <CarImage model={this.state.selectedModel}></CarImage>\n            <CarBasicInformation model={this.state.selectedModel}></CarBasicInformation>\n            <CityVersionBoxConnect selectedLocation={this.state.selectedLocation} selectedVersion={this.state.selectedVersion} changeEntityFlag={this.changeEntityFlag}></CityVersionBoxConnect>\n            <PriceDetails selectedVersion={this.state.selectedVersion}></PriceDetails>\n          </div>\n        );\n      }\n    }\n    else\n    {\n      return(\n        <div>Data Not Recieved!</div>\n      );\n    }\n    \n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}